{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\will\\\\OneDrive\\\\Documents\\\\College JMU\\\\2019 F Semester\\\\ps_demo\\\\ps_git\\\\perfect_sense_demo\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\will\\\\OneDrive\\\\Documents\\\\College JMU\\\\2019 F Semester\\\\ps_demo\\\\ps_git\\\\perfect_sense_demo\\\\frontend\\\\src\\\\pages\\\\NewArticle.js\";\nimport React, { useState, useEffect } from 'react';\n\nconst NewArticle = () => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setTitle = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        text = _useState4[0],\n        setText = _useState4[1];\n\n  const _useState5 = useState(),\n        _useState6 = _slicedToArray(_useState5, 2),\n        file = _useState6[0],\n        setFile = _useState6[1];\n\n  const submit = async () => {\n    var type = file.name.slice(-3);\n    fetch(\"/api/image\", {\n      method: 'post',\n      body: file\n    });\n    fetch(\"/api/add-article\", {\n      method: 'post',\n      body: JSON.stringify({\n        name,\n        text,\n        type\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    setText('');\n    setTitle('');\n    alert(\"Posted\");\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Title:\"), React.createElement(\"input\", {\n    type: \"text\",\n    value: name,\n    onChange: event => setTitle(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => submit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Post to site\"), React.createElement(\"input\", {\n    type: \"file\",\n    onChange: event => setFile(event.target.files[0]),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Content:\"), React.createElement(\"textarea\", {\n    rows: \"60\",\n    cols: \"100\",\n    value: text,\n    onChange: event => setText(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => submit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, \"Post to site\"));\n};\n\nexport default NewArticle;","map":{"version":3,"sources":["C:\\Users\\will\\OneDrive\\Documents\\College JMU\\2019 F Semester\\ps_demo\\ps_git\\perfect_sense_demo\\frontend\\src\\pages\\NewArticle.js"],"names":["React","useState","useEffect","NewArticle","name","setTitle","text","setText","file","setFile","submit","type","slice","fetch","method","body","JSON","stringify","headers","alert","document","scrollTop","documentElement","event","target","value","files"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA,oBACIF,QAAQ,EADZ;AAAA;AAAA,QACdG,IADc;AAAA,QACRC,QADQ;;AAAA,qBAEGJ,QAAQ,EAFX;AAAA;AAAA,QAEdK,IAFc;AAAA,QAERC,OAFQ;;AAAA,qBAGGN,QAAQ,EAHX;AAAA;AAAA,QAGdO,IAHc;AAAA,QAGRC,OAHQ;;AAMrB,QAAMC,MAAM,GAAG,YAAW;AACtB,QAAIC,IAAI,GAAGH,IAAI,CAACJ,IAAL,CAAUQ,KAAV,CAAgB,CAAC,CAAjB,CAAX;AACAC,IAAAA,KAAK,eACD;AACIC,MAAAA,MAAM,EAAC,MADX;AAEIC,MAAAA,IAAI,EAAEP;AAFV,KADC,CAAL;AAOAK,IAAAA,KAAK,qBACD;AACIC,MAAAA,MAAM,EAAE,MADZ;AAEIC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACb,QAAAA,IAAD;AAAOE,QAAAA,IAAP;AAAaK,QAAAA;AAAb,OAAf,CAFV;AAGIO,MAAAA,OAAO,EAAC;AAAC,wBAAe;AAAhB;AAHZ,KADC,CAAL;AAOAX,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAF,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAc,IAAAA,KAAK,CAAC,QAAD,CAAL;AACAC,IAAAA,QAAQ,CAACL,IAAT,CAAcM,SAAd,GAA0BD,QAAQ,CAACE,eAAT,CAAyBD,SAAzB,GAAqC,CAA/D;AAEH,GArBD;;AAsBA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEjB,IAA1B;AAAgC,IAAA,QAAQ,EAAGmB,KAAD,IAAWlB,QAAQ,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAQ,IAAA,OAAO,EAAE,MAAIf,MAAM,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,EAII;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,QAAQ,EAAGa,KAAD,IAAWd,OAAO,CAACc,KAAK,CAACC,MAAN,CAAaE,KAAb,CAAmB,CAAnB,CAAD,CAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ,EAMI;AAAU,IAAA,IAAI,EAAC,IAAf;AAAoB,IAAA,IAAI,EAAC,KAAzB;AAA+B,IAAA,KAAK,EAAEpB,IAAtC;AAA4C,IAAA,QAAQ,EAAGiB,KAAD,IAAWhB,OAAO,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAOI;AAAQ,IAAA,OAAO,EAAE,MAAIf,MAAM,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,CADJ;AAWH,CAvCD;;AAyCA,eAAeP,UAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\r\n\r\nconst NewArticle = () => {\r\n    const [name, setTitle] = useState()\r\n    const [text, setText] = useState()\r\n    const [file, setFile] = useState()\r\n\r\n\r\n    const submit = async() => {\r\n        var type = file.name.slice(-3);\r\n        fetch(`/api/image`,\r\n            {\r\n                method:'post',\r\n                body: file,\r\n            }\r\n\r\n        );\r\n        fetch(`/api/add-article`,\r\n            {\r\n                method: 'post',\r\n                body: JSON.stringify({name, text, type}),\r\n                headers:{'Content-Type':'application/json',}\r\n\r\n            });\r\n        setText('');\r\n        setTitle('');\r\n        alert(\"Posted\")\r\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\r\n    };\r\n    return(\r\n        <React.Fragment>\r\n            <label>Title:</label>\r\n            <input type=\"text\" value={name} onChange={(event) => setTitle(event.target.value)}/>\r\n            <button onClick={()=>submit()}>Post to site</button>\r\n            <input type=\"file\" onChange={(event) => setFile(event.target.files[0])}/>\r\n            <label>Content:</label>\r\n            <textarea rows=\"60\" cols=\"100\" value={text} onChange={(event) => setText(event.target.value)}/>\r\n            <button onClick={()=>submit()}>Post to site</button>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default NewArticle;"]},"metadata":{},"sourceType":"module"}