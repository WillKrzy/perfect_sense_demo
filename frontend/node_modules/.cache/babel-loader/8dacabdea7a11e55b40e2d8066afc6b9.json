{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\will\\\\OneDrive\\\\Documents\\\\College JMU\\\\2019 F Semester\\\\ps_demo\\\\ps_git\\\\perfect_sense_demo\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\will\\\\OneDrive\\\\Documents\\\\College JMU\\\\2019 F Semester\\\\ps_demo\\\\ps_git\\\\perfect_sense_demo\\\\frontend\\\\src\\\\pages\\\\ArticlePage.js\";\nimport React, { useState, useEffect } from 'react';\nimport CommentList from '../pages/commentList';\nimport VotesSection from '../pages/votesSection';\nimport NotFoundPage from './NotFound';\nimport AddComment from '../pages/AddComment';\n\nconst ArticlePage = ({\n  match\n}) => {\n  const name = match.params.name;\n\n  const _useState = useState({\n    votes: 0\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        articleInfo = _useState2[0],\n        setArticleInfo = _useState2[1];\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const result = await fetch(\"/api/articles/\".concat(name));\n      const body = await result.json();\n      setArticleInfo(body);\n    };\n\n    fetchData();\n  }, [name]);\n  if (!articleInfo) return React.createElement(NotFoundPage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19\n    },\n    __self: this\n  });\n  console.log(articleInfo.comments);\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24\n    },\n    __self: this\n  }, \"Article \", name), React.createElement(VotesSection, {\n    articleName: name,\n    votes: articleInfo.votes,\n    updateFunc: setArticleInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }, articleInfo.text), React.createElement(CommentList, {\n    comments: articleInfo.comments,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), React.createElement(AddComment, {\n    name: name,\n    updateFunc: setArticleInfo,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }));\n};\n\nexport default ArticlePage;","map":{"version":3,"sources":["C:\\Users\\will\\OneDrive\\Documents\\College JMU\\2019 F Semester\\ps_demo\\ps_git\\perfect_sense_demo\\frontend\\src\\pages\\ArticlePage.js"],"names":["React","useState","useEffect","CommentList","VotesSection","NotFoundPage","AddComment","ArticlePage","match","name","params","votes","articleInfo","setArticleInfo","fetchData","result","fetch","body","json","console","log","comments","text"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA0C,OAA1C;AACA,OAAOC,WAAP,MAAwB,sBAAxB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;AACA,OAAOC,YAAP,MAAyB,YAAzB;AACA,OAAOC,UAAP,MAAuB,qBAAvB;;AACA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAa;AAC7B,QAAMC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaD,IAA1B;;AAD6B,oBAESR,QAAQ,CAAC;AAACU,IAAAA,KAAK,EAAC;AAAP,GAAD,CAFjB;AAAA;AAAA,QAEtBC,WAFsB;AAAA,QAETC,cAFS;;AAG7BX,EAAAA,SAAS,CAAC,MAAI;AACV,UAAMY,SAAS,GAAG,YAAW;AACzB,YAAMC,MAAM,GAAG,MAAMC,KAAK,yBAAkBP,IAAlB,EAA1B;AACA,YAAMQ,IAAI,GAAG,MAAMF,MAAM,CAACG,IAAP,EAAnB;AACAL,MAAAA,cAAc,CAACI,IAAD,CAAd;AACH,KAJD;;AAKAH,IAAAA,SAAS;AACZ,GAPQ,EAON,CAACL,IAAD,CAPM,CAAT;AAUA,MAAG,CAACG,WAAJ,EAAiB,OAAO,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACjBO,EAAAA,OAAO,CAACC,GAAR,CAAYR,WAAW,CAACS,QAAxB;AACA,SAEI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAaZ,IAAb,CADJ,EAEI,oBAAC,YAAD;AAAc,IAAA,WAAW,EAAEA,IAA3B;AAAiC,IAAA,KAAK,EAAEG,WAAW,CAACD,KAApD;AAA2D,IAAA,UAAU,EAAEE,cAAvE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAID,WAAW,CAACU,IAAhB,CAHJ,EAII,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEV,WAAW,CAACS,QAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI,oBAAC,UAAD;AAAY,IAAA,IAAI,EAAEZ,IAAlB;AAAwB,IAAA,UAAU,EAAEI,cAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,CAFJ;AAaH,CA5BD;;AA6BA,eAAeN,WAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport CommentList from '../pages/commentList';\r\nimport VotesSection from '../pages/votesSection';\r\nimport NotFoundPage from './NotFound';\r\nimport AddComment from '../pages/AddComment';\r\nconst ArticlePage = ({match}) => {\r\n    const name = match.params.name;\r\n    const [articleInfo, setArticleInfo] = useState({votes:0});\r\n    useEffect(()=>{\r\n        const fetchData = async() => {\r\n            const result = await fetch(`/api/articles/${name}`)\r\n            const body = await result.json();\r\n            setArticleInfo(body);\r\n        }\r\n        fetchData();\r\n    }, [name])\r\n\r\n\r\n    if(!articleInfo) return <NotFoundPage/>\r\n    console.log(articleInfo.comments)\r\n    return (\r\n\r\n        <React.Fragment>\r\n            <h1>Article {name}</h1>\r\n            <VotesSection articleName={name} votes={articleInfo.votes} updateFunc={setArticleInfo}></VotesSection>\r\n            <p>{articleInfo.text}</p>\r\n            <CommentList comments={articleInfo.comments}/>\r\n            <AddComment name={name} updateFunc={setArticleInfo}/>\r\n            \r\n        </React.Fragment>\r\n    );\r\n\r\n\r\n}\r\nexport default ArticlePage;"]},"metadata":{},"sourceType":"module"}