{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\will\\\\OneDrive\\\\Documents\\\\College JMU\\\\2019 F Semester\\\\ps_demo\\\\ps_git\\\\perfect_sense_demo\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\will\\\\OneDrive\\\\Documents\\\\College JMU\\\\2019 F Semester\\\\ps_demo\\\\ps_git\\\\perfect_sense_demo\\\\frontend\\\\src\\\\pages\\\\NewArticle.js\";\nimport React, { useState } from 'react';\n\nconst NewArticle = () => {\n  const _useState = useState(),\n        _useState2 = _slicedToArray(_useState, 2),\n        name = _useState2[0],\n        setTitle = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        text = _useState4[0],\n        setText = _useState4[1];\n\n  const submit = async () => {\n    //gets a file\n    var data = document.getElementById(\"myform\");\n    var formdat = new FormData(data);\n    fetch(\"/api/add-article\", {\n      method: 'post',\n      body: JSON.stringify({\n        name,\n        text\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    fetch(\"/api/image/\".concat(name), {\n      method: 'post',\n      body: formdat\n    });\n    setText('');\n    setTitle('');\n    alert(\"Posted\"); //scrolls to the top of the page\n\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n  };\n\n  return React.createElement(React.Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"Title:\"), React.createElement(\"input\", {\n    type: \"text\",\n    value: name,\n    onChange: event => setTitle(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => submit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Post to site\"), React.createElement(\"form\", {\n    id: \"myform\",\n    enctype: \"multipart/form-data\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    name: \"photo\",\n    type: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Content:\"), React.createElement(\"textarea\", {\n    rows: \"60\",\n    cols: \"100\",\n    value: text,\n    onChange: event => setText(event.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    onClick: () => submit(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Post to site\"));\n};\n\nexport default NewArticle;","map":{"version":3,"sources":["C:\\Users\\will\\OneDrive\\Documents\\College JMU\\2019 F Semester\\ps_demo\\ps_git\\perfect_sense_demo\\frontend\\src\\pages\\NewArticle.js"],"names":["React","useState","NewArticle","name","setTitle","text","setText","submit","data","document","getElementById","formdat","FormData","fetch","method","body","JSON","stringify","headers","alert","scrollTop","documentElement","event","target","value"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;;AAEA,MAAMC,UAAU,GAAG,MAAM;AAAA,oBACID,QAAQ,EADZ;AAAA;AAAA,QACdE,IADc;AAAA,QACRC,QADQ;;AAAA,qBAEGH,QAAQ,EAFX;AAAA;AAAA,QAEdI,IAFc;AAAA,QAERC,OAFQ;;AAKrB,QAAMC,MAAM,GAAG,YAAW;AACtB;AACA,QAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAX;AACA,QAAIC,OAAO,GAAG,IAAIC,QAAJ,CAAaJ,IAAb,CAAd;AAEAK,IAAAA,KAAK,qBACL;AACIC,MAAAA,MAAM,EAAE,MADZ;AAEIC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAACd,QAAAA,IAAD;AAAOE,QAAAA;AAAP,OAAf,CAFV;AAGIa,MAAAA,OAAO,EAAC;AAAC,wBAAe;AAAhB;AAHZ,KADK,CAAL;AAOAL,IAAAA,KAAK,sBAAeV,IAAf,GACL;AACIW,MAAAA,MAAM,EAAC,MADX;AAEIC,MAAAA,IAAI,EAAEJ;AAFV,KADK,CAAL;AAKAL,IAAAA,OAAO,CAAC,EAAD,CAAP;AACAF,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAe,IAAAA,KAAK,CAAC,QAAD,CAAL,CAnBsB,CAoBtB;;AACAV,IAAAA,QAAQ,CAACM,IAAT,CAAcK,SAAd,GAA0BX,QAAQ,CAACY,eAAT,CAAyBD,SAAzB,GAAqC,CAA/D;AAEH,GAvBD;;AAwBA,SACI,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEjB,IAA1B;AAAgC,IAAA,QAAQ,EAAGmB,KAAD,IAAWlB,QAAQ,CAACkB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAQ,IAAA,OAAO,EAAE,MAAIjB,MAAM,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,EAII;AAAM,IAAA,EAAE,EAAC,QAAT;AAAkB,IAAA,OAAO,EAAC,qBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,IAAI,EAAC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CAJJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPJ,EAQI;AAAU,IAAA,IAAI,EAAC,IAAf;AAAoB,IAAA,IAAI,EAAC,KAAzB;AAA+B,IAAA,KAAK,EAAEF,IAAtC;AAA4C,IAAA,QAAQ,EAAGiB,KAAD,IAAWhB,OAAO,CAACgB,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,EASI;AAAQ,IAAA,OAAO,EAAE,MAAIjB,MAAM,EAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATJ,CADJ;AAaH,CA1CD;;AA4CA,eAAeL,UAAf","sourcesContent":["import React, {useState} from 'react';\r\n\r\nconst NewArticle = () => {\r\n    const [name, setTitle] = useState()\r\n    const [text, setText] = useState()\r\n\r\n\r\n    const submit = async() => {\r\n        //gets a file\r\n        var data = document.getElementById(\"myform\");\r\n        var formdat = new FormData(data);\r\n\r\n        fetch(`/api/add-article`,\r\n        {\r\n            method: 'post',\r\n            body: JSON.stringify({name, text}),\r\n            headers:{'Content-Type':'application/json',}\r\n\r\n        });\r\n        fetch(`/api/image/${name}`,\r\n        {\r\n            method:'post',\r\n            body: formdat,\r\n        });\r\n        setText('');\r\n        setTitle('');\r\n        alert(\"Posted\")\r\n        //scrolls to the top of the page\r\n        document.body.scrollTop = document.documentElement.scrollTop = 0;\r\n\r\n    };\r\n    return(\r\n        <React.Fragment>\r\n            <label>Title:</label>\r\n            <input type=\"text\" value={name} onChange={(event) => setTitle(event.target.value)}/>\r\n            <button onClick={()=>submit()}>Post to site</button>\r\n            <form id=\"myform\" enctype=\"multipart/form-data\">\r\n                <input name=\"photo\" type=\"file\"/>\r\n            </form>\r\n            <label>Content:</label>\r\n            <textarea rows=\"60\" cols=\"100\" value={text} onChange={(event) => setText(event.target.value)}/>\r\n            <button onClick={()=>submit()}>Post to site</button>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default NewArticle;"]},"metadata":{},"sourceType":"module"}